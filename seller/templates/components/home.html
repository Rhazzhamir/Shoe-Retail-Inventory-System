{% load static %}
<main class="home_main content px-3 py-2">
    <div class="container-fluid">
        <div class="mt-3 mb-4 text-start">
            <h4 class="noto-serif-ahom-regular">Admin Dashboard</h4>
        </div>
        <div class="row">
            <div class="col-12 col-md-6 d-flex">
                <div class="card flex-fill border-0 illustration">
                    <div class="card-body p-0 d-flex flex-fill">
                        <div class="greetings row g-0 w-100">
                            <div class="col-6 align-self-center">
                                <div class="p-3  ">
                                    <h4><span class="noto-serif-ahom-regular">Welcome Back</span>, {{ user.username}}</h4>
                                    <p class="mb-0 text-dark">Seller Dashboard, STRIDENEST</p>
                                </div>
                            </div>
                            <div class="col-6 align-self-center d-flex justify-content-center align-items-end">
                                <img src="{% static 'welcome_seller.png' %}" alt="Welcome Seller Image" class="d-block w-50 h-50">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-6 d-flex">
                <div class="card flex-fill border-0 illustration">
                    <div class="card-body p-0 d-flex flex-fill">
                        <div class="total_earnings row g-0 w-100">
                            <div class="col-6 align-self-center">
                                <div class="p-3  ">
                                    <h4><span class="noto-serif-ahom-regular text-danger">â‚± {{ total_price|floatformat:2 }}</h4>
                                    <p class="mb-0 text-dark">Total pending orders</p>
                                </div>
                            </div>
                            <div class="col-6 align-self-center d-flex justify-content-center align-items-end">
                                <img src="{% static 'Coins_amico.png' %}" alt="Welcome Seller Image" class="d-block w-50 h-50">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>

        <!-- 2nd row -->
        <div class="row">
            <div class="col-12 col-md-3 d-flex flex-column">
                <p class="noto-serif-ahom-regular text-light text-start">
                    Category
                    <svg class="" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" class="bi bi-tags" viewBox="0 0 16 16">
                        <path d="M3 2v4.586l7 7L14.586 9l-7-7zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586z"/>
                        <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1z"/>
                    </svg>
                </p>
                <div class="category card flex-fill border-0 illustration">
                    <div class="d-flex card-body p-3 align-items-center">
                        <!-- Image Section -->
                        <img src="{% static 'Category.png' %}" alt="Welcome Seller Image" class="d-block w-25 h-25 ">
                        
                        <!-- Total Section -->
                        <div class="d-flex flex-column flex-fill align-items-center justify-content-center">
                            <span class="text-dark  noto-serif-ahom-regular"><b> Total </b></span>
                            <span class="badge text-dark me-2">
                                <h5>{{ total_sum }}</h5> <!-- Display the count of total categories -->
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="col-12 col-md-3 d-flex flex-column">
                <p class="noto-serif-ahom-regular text-light text-start">
                    Products
                    <svg class="me-3" xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" class="bi bi-box-seam" viewBox="0 0 16 16">
                        <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                    </svg>
                </p>
                <div class="product card flex-fill border-0">
                    <div class="d-flex card-body p-3 align-items-center">
                        <img src="{% static 'Product.png' %}" alt="Welcome Seller Image" class="d-block w-25 h-25 ">
                        <div class="d-flex flex-column flex-fill align-items-center justify-content-center">
                            <span class="text-dark  noto-serif-ahom-regular"> <b> Total </b></span>
                            <span class="badge text-dark me-2">
                                <h5>{{ total_products }}</h5> <!-- Display the count of total products -->
                            </span>
                        </div>
                    </div>
                </div>
            </div>


            <div class=" col-12 col-md-3 d-flex flex-column">
                <p class="noto-serif-ahom-regular text-light text-start">
                    Total Orders
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" class="bi bi-bag-heart" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0M14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1M8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132"/>
                    </svg>
                </p>
                <div class="Orders card flex-fill border-0">
                    <div class="d-flex card-body p-3 align-items-center">
                        <img src="{% static 'Order.png' %}" alt="Welcome Seller Image" class="d-block w-25 h-25">
                        <div class="d-flex flex-column flex-fill align-items-center justify-content-center">
                            <span class="text-dark  noto-serif-ahom-regular"> <b> Total</b></span>
                            <span class="badge text-dark me-2">
                                <h5>{{ total_orders }}</h5> <!-- Display the count of total products -->
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class=" col-12 col-md-3 d-flex flex-column">
                <p class="noto-serif-ahom-regular text-light text-start">
                    Stock
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-stack-overflow" viewBox="0 0 16 16">
                        <path d="M12.412 14.572V10.29h1.428V16H1v-5.71h1.428v4.282z"/>
                        <path d="M3.857 13.145h7.137v-1.428H3.857zM10.254 0 9.108.852l4.26 5.727 1.146-.852zm-3.54 3.377 5.484 4.567.913-1.097L7.627 2.28l-.914 1.097zM4.922 6.55l6.47 3.013.603-1.294-6.47-3.013zm-.925 3.344 6.985 1.469.294-1.398-6.985-1.468z"/>
                    </svg>
                </p>
                <div class="stack card flex-fill border-0">
                    <div class="d-flex card-body p-3 align-items-center">
                        <img src="{% static 'stock.png' %}" alt="Welcome Seller Image" class="d-block w-25 h-25 ">
                        <div class="d-flex flex-column flex-fill align-items-center justify-content-center">
                            <span class="text-dark "> <b> Total </b></span>
                            <span class="badge text-dark me-2">
                                <h5>{{ total_stock }}</h5> <!-- Display the count of total products -->
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-start mt-5 mb-2 d-flex ms-3">
        <h5 class="noto-serif-ahom-regular ">Delete history</h5>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class=" mt-1 bi bi-clock-history" viewBox="0 0 16 16">
            <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"/>
            <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"/>
            <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"/>
        </svg>
    </div>
<div class="d-flex gap-2 mb-5">
    <!-- Deleted Categories Table -->
    <div class="deleted-categories-table-container">
        <h5>Deleted Categories</h5>
        <table class="deleted-categories-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Category</th>
                    <th>Deleted At</th>
                    <th>Action</th> <!-- New column for action -->
                </tr>
            </thead>
            <tbody>
                {% for deleted_category in deleted_categories %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ deleted_category.category_name }}</td>
                        <td>{{ deleted_category.deleted_at }}</td>
                        <td>
                            <button class="btn btn-danger btn-sm delete-button" data-id="{{ deleted_category.id }}">Delete</button>
                        </td> <!-- Delete Button -->
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="4" class="text-danger text-center ">No deleted categories found</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Deleted Products Table -->
    <div class="deleted-products-table-container">
        <h5>Deleted Products</h5>
        <table class="deleted-products-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Product</th>
                    <th>Image</th>
                    <th>Deleted At</th>
                    <th>Action</th> <!-- New column for action -->
                </tr>
            </thead>
            <tbody>
                {% for deleted_product in deleted_products %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ deleted_product.product_name }}</td>
                        <td>
                            {% if deleted_product.image %}
                                <img src="{{ deleted_product.image.url }}" alt="{{ deleted_product.product_name }}" width="50">
                            {% else %}
                                No Image
                            {% endif %}
                        </td>
                        <td>{{ deleted_product.deleted_at }}</td>
                        <td>
                            <button class="btn btn-danger btn-sm delete-button" data-id="{{ deleted_product.id }}">Delete</button>
                        </td> <!-- Delete Button -->
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="5" class="text-danger text-center">No deleted products found</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% include 'components/help_seller.html'%}
{% include 'components/footer_seller.html'%}

